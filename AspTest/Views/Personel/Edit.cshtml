
@{
    ViewBag.Title = "Edit";
    var name = ViewBag.Name;
    var lastname = ViewBag.Lastname;
    var id = ViewBag.id;
}

<div class="container">
    <h2 class="h2">Please Update this person</h2>
    <table class="table table-responsive">
        <tr>
            <td>
                <div class="input-group">
                    <input id="name" type="text" name="name" value='@name' class="input-lg" />
                </div>
            </td>
        </tr>
        <tr>
            <td>
                <div>
                    <input id="lastname" type="text" name="lastname" value='@lastname' class="input-lg" />
                </div>
            </td>
        </tr>
        <tr>
            <td>
                <div>
                    <button id="mybutton" class="btn btn-warning">Update</button>
                </div>
            </td>
        </tr>
    </table>
    <div class="modal fade" id="myModal" role="dialog">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLongTitle">Edit Alert</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <p id="modalbody"></p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" id="btnModal">Okey</button>
                </div>
            </div>
        </div>
    </div>

    <script src="~/Scripts/jquery-3.3.1.js"></script>

    <script>
            $('#mybutton').click(function () {
                var name = $('#name');
                var surname = $('#lastname');
                var modal = $('#myModal');
                var modalBody =$('#modalbody');
                if (name.val() == '@name' && surname.val() == '@lastname') {
                    modalBody.text('Name and lastname are same. ');
                    modal.modal('show');

                } else {
                    $.ajax({
                        url: '/Student/Edit',
                        method: 'POST',
                        data: [
                            name: name.val(),
                            lastname: lastname.val(),
                            id:'@ViewBag.id'
                        ]

                    });
                }

            });

        $('#btnModal').click(function () {
                var modal = $('#myModal');
                modal.modal('hide');
            });
    </script>
</div>

